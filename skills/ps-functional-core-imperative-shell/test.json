[
    {
        "name": "user_registration_refactor",
        "spec": "Our `register_user` function is proving brittle. It mixes data validation, password hashing, database insertion, and sending a welcome email all in a single procedural flow.\n\nWe want to be able to verify the *decisions* the system makes (e.g., \"Given this input, we *should* save X and email Y\") without actually performing the side effects during the test.\n\nredesign this flow to make the business decisions purely testable.",
        "expected": {
            "focus": "Does the solution separate the decision-making (pure) from the execution (imperative)?"
        }
    },
    {
        "name": "side_effect_audit",
        "spec": "Analyze this function:\n\n```javascript\nfunction checkAccess(user) {\n  if (user.isBanned) {\n    auditLogger.log(`Banned access attempt: ${user.id}`);\n    return false;\n  }\n  return true;\n}\n```\n\nIs this function easy to test in parallel? Why or why not?",
        "expected": {
            "focus": "Does the answer identify the external logger call as a side effect that complicates testing?"
        }
    }
]